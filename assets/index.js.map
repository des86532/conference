{"version":3,"file":"index.js","sources":["../../js/game.js"],"sourcesContent":["// ==================== Game Initialization ====================\nconsole.log('ğŸš€ ç³»çµ±åˆå§‹åŒ–å®Œæˆ. ä»»å‹™é–‹å§‹.');\n\n// === Voice Audio System ===\nconst sceneAudio = new Audio();\nsceneAudio.preload = 'auto';\nsceneAudio.volume = 1.0;\n\n// Helper to resolve assets respecting Vite base (works even if BASE_URL is relative)\nconst baseAssetUrl = (() => {\n    const baseEnv = import.meta?.env?.BASE_URL || '/';\n    // Ensure absolute URL so URL constructor never throws\n    return new URL(baseEnv, window.location.origin).href;\n})();\n\nconst toAssetUrl = (path) => new URL(path, baseAssetUrl).href;\n\n// Helper for selecting elements\nconst $ = (selector) => document.querySelector(selector);\nconst $$ = (selector) => document.querySelectorAll(selector); // For multiple lists\n\n// Messaging System\nfunction showMessage(type, text) {\n    const messageEl = $('#message');\n    \n    if (messageEl) {\n        messageEl.className = 'w-full p-4 mt-4 text-lg font-bold text-center border rounded-lg message';\n        if (type === 'success') {\n            messageEl.classList.add('bg-green-100', 'dark:bg-green-900/30', 'border-green-500', 'text-green-600', 'dark:text-green-400');\n        } else {\n            messageEl.classList.add('bg-red-100', 'dark:bg-red-900/30', 'border-red-500', 'text-red-600', 'dark:text-red-400');\n        }\n        messageEl.textContent = text;\n        messageEl.classList.add('active');\n        setTimeout(() => messageEl.classList.remove('active'), 5000);\n    }\n}\n\n// ==================== Narrative System ====================\nlet currentStoryIndex = 0;\nlet furthestStoryIndex = 0;\nconst sceneHintsShown = new Set();\nlet story10PasswordAttempted = false; // è·Ÿè¹¤ç”¨æˆ¶æ˜¯å¦åœ¨ Story 10 è¼¸å…¥éå¯†ç¢¼\nconst story = [\n    // === å‰è¨€ ===\n    { \n        id: 0, \n        text: \"çœ‹ä¾†é€™å ´åˆ†äº«æœƒçš„å‘½é‹æŒæ¡åœ¨ä½ æ‰‹è£¡äº†... è®“æˆ‘çœ‹çœ‹ä½ æœ‰å¤šå°‘æœ¬äº‹ã€‚\", \n        autoNext: false \n    },\n    { \n        id: 1, \n        text: \"æƒ³è§£é™¤æˆ‘çš„ç‚¸å½ˆï¼Ÿé™¤éä½ èƒ½çœ‹ç©¿é€™äº›ç¨‹å¼ç¢¼çš„ç ´ç¶»... å°å¿ƒåˆ¥è®“é€™è£¡ <span class='text-red-500 animate-pulse'>çˆ†ç‚¸</span> äº†\", \n        autoNext: false\n    },\n    \n    // === é—œå¡ä¸€ï¼šConsole ===\n    { \n        id: 2, \n        text: \"çœ‹çœ‹ä½ å‰©ä¸‹å¤šå°‘ 'æ™‚é–“' å§ï¼<br>åˆ¥å†æ‰‹å‹• log äº†... è©¦è‘—è®“ä½ çš„ Console <span class='text-yellow-400'>ã€é•·å‡ºä¸€é›™çœ¼ç›ã€</span> ä¾†ç›¯è‘—å®ƒå§ï¼\", \n        autoNext: false\n    },\n    \n    // === é—œå¡äºŒï¼šApplication ===\n    { \n        id: 3, \n        text: \"ç«Ÿç„¶è¢«ä½ ç™¼ç¾äº†çœŸå¯¦çš„æ™‚é–“... ä¸ç°¡å–®å˜›ã€‚<br>ä½†æ¥ä¸‹ä¾†çš„æŒ‘æˆ°å¯æ²’é‚£éº¼ç›´æ¥... æœ‰äº› <span class='text-purple-400'>è³‡æ–™</span> è—åœ¨ä½ æ„æƒ³ä¸åˆ°çš„åœ°æ–¹...\", \n        triggerLevel: 1\n    },\n    {\n        id: 4,\n        text: \"è½èªªéã€è³‡æ–™è—åœ¨å››é¢å…«æ–¹ã€å—ï¼Ÿ<br><span class='text-purple-400'>Cookies</span>ã€<span class='text-purple-400'>Local Storage</span>ã€<span class='text-purple-400'>Session Storage</span>ï¼Œç”šè‡³ <span class='text-purple-400'>IndexedDB</span>... æ¯å€‹è§’è½éƒ½å¯èƒ½è—è‘—ç·šç´¢ã€‚å» <span class='text-purple-400 font-bold'>Application é¢æ¿</span> ä»”ç´°æŒ–æ˜å§ï¼\",\n        autoNext: false  // é—œå¡äºŒå®Œæˆå¾Œæ‰èƒ½æ¨é€²åˆ° Story 5\n    },\n    \n    // === é—œå¡ä¸‰ï¼šPerformance ===\n    {\n        id: 5,\n        text: \"ç«Ÿç„¶è¢«ä½ æ‰¾åˆ°äº†æ‰€æœ‰å„²å­˜ä½ç½®... ä¸éï¼Œæ¥ä¸‹ä¾†å¯æ²’é‚£éº¼ç°¡å–®ã€‚<br>æ„Ÿè¦ºåˆ°äº†å—ï¼Ÿä½ çš„ç€è¦½å™¨æ­£åœ¨è®Šæ…¢... <span class='text-yellow-400 animate-pulse'>æ•ˆèƒ½</span> å•é¡Œå¯ä¸å¥½è§£æ±ºå–”ï¼\",\n        triggerLevel: 2\n    },\n    {\n        id: 6,\n        text: \"å“ˆå“ˆï¼Œä½ çš„é é¢å¡æˆé€™æ¨£... æƒ³çŸ¥é“åŸå› ï¼Ÿ<br>å» <span class='text-yellow-400 font-bold'>Performance é¢æ¿</span> éŒ„è£½ä¸€æ®µå§ï¼çœ‹çœ‹æ˜¯ä»€éº¼ <span class='text-red-500'>é•·ä»»å‹™</span> åœ¨æ‹–ç´¯ä½ ...\",\n        autoNext: false  // é—œå¡ä¸‰å®Œæˆå¾Œæ‰èƒ½æ¨é€²åˆ° Story 7\n    },\n    \n    // === é—œå¡å››ï¼šNetwork ===\n    {\n        id: 7,\n        text: \"å˜–... é€£æ•ˆèƒ½ç“¶é ¸éƒ½è¢«ä½ æ‰¾åˆ°äº†ï¼Ÿ<br>é‚£å°±è®“ä½ çš„ç¶²è·¯å……æ»¿ <span class='text-green-400'>é›œè¨Š</span> å§ï¼åœ¨æ··äº‚ä¸­ï¼Œä½ èƒ½æ‰¾åˆ°çœŸæ­£æœ‰ç”¨çš„è³‡è¨Šå—ï¼Ÿ\",\n        triggerLevel: 3\n    },\n    {\n        id: 8,\n        text: \"ä½ æ‡‰è©²å·²ç¶“è¢«é‚£äº› <span class='text-green-400'>é›œè¨Šè«‹æ±‚</span> ç…©æ­»äº†å§ï¼Ÿ<br>è©¦è‘—åœ¨ <span class='text-green-400 font-bold'>Network é¢æ¿</span> è£¡ <span class='text-green-400'>éæ¿¾é›œè¨Š</span>... æ‰¾åˆ°æˆåŠŸçš„è«‹æ±‚ï¼Œå®ƒæœƒå‘Šè¨´ä½ ä¸‹ä¸€æ­¥è©²æ€éº¼åš...\",\n        autoNext: false  // ä¸è¨­ triggerLevelï¼Œè®“ä½¿ç”¨è€…æœ‰æ™‚é–“çœ‹æç¤º\n    },\n    {\n        id: 9,\n        text: \"æ‰¾åˆ°æç¤ºäº†ï¼Ÿé‚£å°±ç…§è‘—åšå§ï¼<br>ä½¿ç”¨ <span class='text-green-400 font-bold'>Local Overrides</span> ä¾†æ”¹å¯«å¤±æ•—çš„ API... æˆåŠŸçš„è©±ï¼Œéš±è—çš„å¯†ç¢¼å°±æœƒæµ®ç¾...\",\n        autoNext: false  // é—œå¡å››å®Œæˆå¾Œæ‰èƒ½æ¨é€²åˆ° Story 10\n    },\n    \n    // === é—œå¡äº”ï¼šSources ===\n    // æ–°å¢éæ¸¡å°è©± (ID 10)\n    {\n        id: 10,\n        text: \"å“¼ï¼Œç«Ÿç„¶çœŸçš„è¢«ä½ æ‰¾åˆ°äº†å®Œæ•´çš„å¯†ç¢¼ç¢ç‰‡... <br>ä¸éåˆ¥å¾—æ„çš„å¤ªæ—©ã€‚<br>æ—¢ç„¶ä½ é€™éº¼æœ‰è‡ªä¿¡ï¼Œé‚£å°±<span class='text-red-400 font-bold'>è¼¸å…¥å¯†ç¢¼</span>è©¦è©¦çœ‹å•Šï¼Ÿæˆ‘è³­ä½ éä¸äº†æœ€å¾Œé€™é—œï¼\",\n        triggerLevel: 4 \n    },\n    // ID 11: é‚è¼¯é–æç¤º - é§­å®¢æ—©å·²é æ–™\n    {\n        id: 11,\n        text: \"å“ˆå“ˆå“ˆï¼é©šè¨å—ï¼Ÿ<br>ä½ ä»¥ç‚ºæ‰¾åˆ°å¯†ç¢¼å°±çµæŸäº†ï¼Ÿå¤ªå¤©çœŸäº†ï¼<br>é€™æ˜¯æˆ‘ç²¾å¿ƒæº–å‚™çš„ <span class='text-red-500'>é‚è¼¯é™·é˜±</span>ã€‚<br>æƒ³è§£é–‹å®ƒï¼Ÿå» <span class='text-yellow-400 font-bold'>Sources é¢æ¿</span> çœ‹çœ‹ä½ èƒ½åšä»€éº¼å§ï¼\",\n        autoNext: false\n    },\n    \n    // === æœ€çµ‚å‹åˆ© ===\n    {\n        id: 12,\n        text: \"ä¸å¯èƒ½... æˆ‘çš„é‚è¼¯é–... ç«Ÿç„¶è¢«ç ´è§£äº†ï¼Ÿï¼<br><span class='text-green-500 text-xl font-bold'>ğŸ‰ æ­å–œï¼ä½ å·²æˆåŠŸå®ˆè­·äº†é€™å ´åˆ†äº«æœƒï¼</span>\",\n        triggerLevel: 5,  // åªæœ‰å®Œæˆé—œå¡äº”å¾Œæ‰èƒ½åˆ°é”\n        isFinal: true\n    }\n];\n\nfunction updateVillainMessage(text) {\n    const desktopMsg = $('#desktop-villain-msg');\n    const mobileMsg = $('#mobile-villain-msg');\n    const formattedText = `<span class=\"text-green-500 font-bold mr-2\">&gt;</span>\"${text}\"`;\n    \n    if (desktopMsg) desktopMsg.innerHTML = formattedText;\n    if (mobileMsg) mobileMsg.innerHTML = formattedText;\n}\n\nfunction playSceneAudio(scene) {\n    if (!scene || scene.id === undefined || scene.id === null) return;\n    sceneAudio.pause();\n    sceneAudio.currentTime = 0;\n    sceneAudio.src = toAssetUrl(`audio/id-${scene.id}.mp3`);\n    sceneAudio.play().catch(() => {});\n}\n\nfunction logSceneHints(sceneId) {\n    switch (sceneId) {\n        case 2:\n            console.log('%cğŸ’¡ é§­å®¢æç¤º:', 'color: #fbbf24; font-size: 16px; font-weight: bold;');\n            console.log('%cè©¦è‘—åœ¨ Console é¢æ¿æ‰¾åˆ°ã€Œçœ¼ç›åœ–ç¤ºã€ğŸ‘ï¸ (Create Live Expression)', 'color: #60a5fa; font-size: 14px;');\n            console.log('%cç„¶å¾Œè¼¸å…¥é€™å€‹è®Šæ•¸ä¾†ç›£æ§æ™‚é–“:', 'color: #a78bfa; font-size: 14px;');\n            console.log('%cwindow.game.timer', 'color: #10b981; font-size: 18px; font-weight: bold; background: #1f2937; padding: 8px; border-radius: 4px;');\n            console.log('%cğŸ’¡ æç¤º: Live Expression æœƒå³æ™‚æ›´æ–°æ•¸å€¼ï¼Œä¸ç”¨ä¸€ç›´é‡æ–°è¼¸å…¥ï¼', 'color: #fbbf24; font-size: 12px; font-style: italic;');\n            break;\n        case 4:\n            console.log('%cğŸ’¡ é§­å®¢æç¤º:', 'color: #fbbf24; font-size: 16px; font-weight: bold;');\n            console.log('%cå¯†ç¢¼ç¢ç‰‡åˆ†æ•£åœ¨ 4 å€‹å„²å­˜ä½ç½®ï¼Œæ¯å€‹ä½ç½®è—è‘—ä¸€å€‹æç¤º...', 'color: #a78bfa; font-size: 14px;');\n            console.log('%cæª¢æŸ¥ä»¥ä¸‹ä½ç½®ï¼ˆApplication é¢æ¿ï¼‰:', 'color: #60a5fa; font-size: 14px;');\n            console.log('%c  1. Cookies', 'color: #10b981; font-size: 13px;');\n            console.log('%c  2. Local Storage', 'color: #10b981; font-size: 13px;');\n            console.log('%c  3. Session Storage', 'color: #10b981; font-size: 13px;');\n            console.log('%c  4. IndexedDB (database: DevToolsDB)', 'color: #10b981; font-size: 13px;');\n            console.log('%cæ‰¾åˆ° 4 å€‹æç¤ºå¾Œï¼Œçµ„åˆèµ·ä¾†ä¸¦åœ¨ Console é©—è­‰:', 'color: #a78bfa; font-size: 14px;');\n            console.log('%cwindow.game.verifyLevel2(\"ä½ çµ„åˆçš„å®Œæ•´ç¢ç‰‡\")', 'color: #10b981; font-size: 16px; font-weight: bold; background: #1f2937; padding: 8px; border-radius: 4px;');\n            break;\n        case 6:\n            console.log('%cğŸ’¡ é§­å®¢æç¤º:', 'color: #fbbf24; font-size: 16px; font-weight: bold;');\n            console.log('%cé é¢å¡é “ï¼Ÿè©¦è©¦ Performance é¢æ¿ï¼', 'color: #60a5fa; font-size: 14px;');\n            console.log('%cæ­¥é©Ÿ:', 'color: #a78bfa; font-size: 14px;');\n            console.log('%c  1. é–‹å•Ÿ Performance é¢æ¿', 'color: #10b981; font-size: 13px;');\n            console.log('%c  2. é»æ“ŠéŒ„è£½æŒ‰éˆ•ï¼ˆåœ“é»åœ–ç¤ºï¼‰', 'color: #10b981; font-size: 13px;');\n            console.log('%c  3. ç­‰å¾… 3-5 ç§’å¾Œåœæ­¢', 'color: #10b981; font-size: 13px;');\n            console.log('%c  4. å°‹æ‰¾ç´…è‰²çš„ Long Taskï¼ˆè¶…é 50ms çš„ä»»å‹™ï¼‰', 'color: #10b981; font-size: 13px;');\n            console.log('%c  5. é»æ“Šè©²ä»»å‹™ï¼Œåœ¨ Summary æ¨™ç±¤ä¸­é»æ“Šå‡½å¼åç¨±ï¼ˆè·³è½‰åˆ° Sourcesï¼‰', 'color: #10b981; font-size: 13px;');\n            console.log('%c  6. æŸ¥çœ‹å®ƒçš„ç¨‹å¼ç¢¼è¨»é‡‹ï¼Œè§£æ³•å°±è—åœ¨é‚£è£¡...', 'color: #fbbf24; font-size: 14px; font-weight: bold;');\n            break;\n        case 8:\n            console.log('%cğŸ’¡ é§­å®¢æç¤º:', 'color: #fbbf24; font-size: 16px; font-weight: bold;');\n            console.log('%cé–‹å•Ÿ Network é¢æ¿ï¼Œè§€å¯Ÿé‚£äº›é »ç¹çš„ request...', 'color: #60a5fa; font-size: 14px;');\n            console.log('%cæ­¥é©Ÿ:', 'color: #a78bfa; font-size: 14px;');\n            console.log('%c  1. å³éµé»æ“Šé›œè¨Šè«‹æ±‚ â†’ Block request URL/domain', 'color: #10b981; font-size: 13px;');\n            console.log('%c  2. æ‰¾åˆ°æˆåŠŸçš„ APIï¼ŒæŸ¥çœ‹ Response...', 'color: #fbbf24; font-size: 14px;');\n            break;\n        case 9:\n            console.log('%cğŸ’¡ é§­å®¢æç¤º:', 'color: #fbbf24; font-size: 16px; font-weight: bold;');\n            console.log('%cä½¿ç”¨ Local Overrides ä¾†æ”¹å¯« API responseï¼', 'color: #60a5fa; font-size: 14px;');\n            console.log('%cæ­¥é©Ÿ:', 'color: #a78bfa; font-size: 14px;');\n            console.log('%c  1. Sources é¢æ¿ â†’ Overrides â†’ Enable Local Overrides', 'color: #10b981; font-size: 13px;');\n            console.log('%c  2. Network é¢æ¿ â†’ æ‰¾åˆ°ç›®æ¨™ API â†’ å³éµ â†’ Override content', 'color: #10b981; font-size: 13px;');\n            console.log('%c  3. ç·¨è¼¯å…§å®¹è®“ API æˆåŠŸè¿”å›ï¼ˆåƒè€ƒæç¤ºæª”çš„èªªæ˜ï¼‰', 'color: #10b981; font-size: 13px;');\n            console.log('%c  4. é‡æ–°è¼‰å…¥é é¢ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼...', 'color: #fbbf24; font-size: 14px; font-weight: bold;');\n            break;\n        case 11:\n            console.clear();\n            console.error('âŒ Access Denied: Logic Verification Failed');\n            console.warn('âš ï¸ ç³»çµ±æç¤º: æª¢æ¸¬åˆ°ç•°å¸¸çš„é‚è¼¯åˆ¤æ–·ã€‚');\n            console.info('ğŸ’¡ Debug æŒ‡å¼•: è«‹åœ¨ Sources é¢æ¿ä¸­æª¢æŸ¥ `submitPassword` å‡½å¼ï¼Œå°‹æ‰¾ `isSystemIntegrityCheckPassed` è®Šæ•¸ã€‚');\n            break;\n        default:\n            break;\n    }\n}\n\nfunction canAdvanceTo(index) {\n    if (index <= currentStoryIndex || index >= story.length) return false;\n    const nextScene = story[index];\n    if (!nextScene) return false;\n    if (nextScene.triggerLevel) {\n        const level = challenges.find(c => c.id === nextScene.triggerLevel);\n        if (!level || !level.completed) return false;\n    }\n    if (nextScene.triggerLevels) {\n        const anyCompleted = nextScene.triggerLevels.some(levelId => {\n            const level = challenges.find(c => c.id === levelId);\n            return level && level.completed;\n        });\n        if (!anyCompleted) return false;\n    }\n    return true;\n}\n\nfunction canAdvanceFromCurrent() {\n    const nextIndex = currentStoryIndex + 1;\n    \n    // ç‰¹æ®Šè™•ç†ï¼šStory 10 -> Story 11 éœ€è¦ç”¨æˆ¶è¼¸å…¥éå¯†ç¢¼\n    if (currentStoryIndex === 10 && nextIndex === 11 && !story10PasswordAttempted) {\n        return false;\n    }\n    \n    if (nextIndex <= furthestStoryIndex) return nextIndex < story.length;\n    return canAdvanceTo(nextIndex);\n}\n\nfunction syncNavigation() {\n    const desktopNext = $('#desktop-next-btn');\n    const mobileNext = $('#mobile-next-btn');\n    const desktopPrev = $('#desktop-prev-btn');\n    const mobilePrev = $('#mobile-prev-btn');\n    const canGoPrev = currentStoryIndex > 0;\n    const canGoNext = canAdvanceFromCurrent();\n\n    [desktopPrev, mobilePrev].forEach(btn => {\n        if (btn) {\n            btn.dataset.active = canGoPrev;\n            btn.disabled = !canGoPrev;\n        }\n    });\n\n    [desktopNext, mobileNext].forEach(btn => {\n        if (btn) {\n            btn.dataset.active = canGoNext;\n            btn.disabled = !canGoNext;\n        }\n    });\n}\n\nfunction handleSceneEntry(scene) {\n    if (!scene) return;\n    updateVillainMessage(scene.text);\n    \n    // === è‡ªå‹•æ’­æ”¾å°è©±éŸ³æª” ===\n    playSceneAudio(scene);\n    \n    if (!sceneHintsShown.has(scene.id)) {\n        sceneHintsShown.add(scene.id);\n        logSceneHints(scene.id);\n    }\n    syncNavigation();\n}\n\nwindow.advanceNarrative = function() {\n    const nextIndex = currentStoryIndex + 1;\n    if (nextIndex >= story.length) return;\n    if (nextIndex > furthestStoryIndex && !canAdvanceTo(nextIndex)) return;\n\n    currentStoryIndex = nextIndex;\n    furthestStoryIndex = Math.max(furthestStoryIndex, currentStoryIndex);\n    handleSceneEntry(story[currentStoryIndex]);\n}\n\nwindow.retreatNarrative = function() {\n    if (currentStoryIndex === 0) return;\n    currentStoryIndex--;\n    handleSceneEntry(story[currentStoryIndex]);\n}\n\nfunction checkNarrativeTrigger(levelId) {\n    const scene = story[currentStoryIndex];\n    \n    // æ”¯æ´å–®ä¸€è§¸ç™¼æ¢ä»¶ (triggerLevel) æˆ–å¤šé‡è§¸ç™¼æ¢ä»¶ (triggerLevels)\n    const isTriggered = scene.triggerLevel === levelId || \n                       (scene.triggerLevels && scene.triggerLevels.includes(levelId));\n    \n    if (scene && isTriggered) {\n        syncNavigation();\n        showMessage('success', 'é§­å®¢å·²è¢«é€¼å…¥çµ•å¢ƒï¼é»æ“Šå³ä¸‹è§’ç®­é ­ç¹¼çºŒè¿½æ“Šï¼');\n    }\n}\n\n// ==================== Sidebar Logic ====================\nlet isSidebarExpanded = false;\nwindow.toggleSidebar = function() {\n    isSidebarExpanded = !isSidebarExpanded;\n    const sidebar = $('#mission-sidebar');\n    const icon = $('#sidebar-icon');\n    \n    if (isSidebarExpanded) {\n        sidebar.classList.remove('-translate-x-full');\n        sidebar.classList.add('translate-x-0');\n        icon.textContent = 'chevron_left';\n    } else {\n        sidebar.classList.add('-translate-x-full');\n        sidebar.classList.remove('translate-x-0');\n        icon.textContent = 'chevron_right';\n    }\n}\n\n// ==================== Data & State ====================\nconst challenges = [\n    { \n        id: 1, \n        title: 'éš±å½¢è¨ˆæ™‚å™¨', \n        desc: 'Console é¢æ¿', \n        icon: 'terminal', \n        color: 'blue', \n        fragment: 'Dev',\n        completed: false,\n        hint: 'é–‹å•Ÿ Consoleï¼Œé»æ“Šçœ¼ç›åœ–ç¤º (Create Live Expression)ï¼Œè¼¸å…¥ \"window.game.timer\"',\n        knowledge: `\n            <h2 class=\"text-2xl font-bold text-blue-400 mb-4\">Console: Log Methods & Live Expressions</h2>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µï¼šå‹•æ…‹è§€æ¸¬ vs éœæ…‹ç´€éŒ„</h3>\n                <p class=\"text-gray-400\">Console ä¸åƒ…åƒ…æ˜¯ log çš„è¼¸å‡ºåœ°ã€‚é€éä¸åŒçš„å·¥å…·ï¼Œæˆ‘å€‘å¯ä»¥é¸æ“‡è§€å¯Ÿ \"ç•¶ä¸‹ç¬é–“\" çš„ç‹€æ…‹ï¼Œæˆ–æ˜¯ \"æŒçºŒç›£æ§\" æ•¸å€¼çš„è®ŠåŒ–ã€‚</p>\n            </div>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">âš–ï¸ åŒæ€§è³ªæ¯”è¼ƒï¼šè§€æ¸¬æ–¹å¼å·®ç•°</h3>\n                <ul class=\"list-disc list-inside text-gray-400 space-y-1\">\n                    <li><strong>console.log()ï¼š</strong>éœæ…‹å¿«ç…§ã€‚ç´€éŒ„çš„æ˜¯ç¨‹å¼åŸ·è¡Œé‚£ä¸€ç¬é–“çš„è®Šæ•¸ç‹€æ…‹ï¼ˆä½†è¦æ³¨æ„ç‰©ä»¶åƒè€ƒç‰¹æ€§ï¼‰ï¼Œé©åˆæŸ¥çœ‹æ­·å²è»Œè·¡ã€‚</li>\n                    <li><strong>Live Expression (çœ¼ç›åœ–ç¤º)ï¼š</strong>å‹•æ…‹ç›£æ§ã€‚è¡¨é”å¼æœƒé‡˜é¸åœ¨ Console é ‚éƒ¨ï¼Œéš¨æ™‚è‡ªå‹•æ›´æ–°ä¸¦é¡¯ç¤º\"ç•¶å‰æœ€æ–°\"çš„å€¼ï¼Œé©åˆç›£æ§è®ŠåŒ–çš„ç‹€æ…‹ï¼ˆå¦‚è¨ˆæ™‚å™¨ã€åº§æ¨™ï¼‰ã€‚</li>\n                </ul>\n            </div>\n        `\n    },\n    { \n        id: 2, \n        title: 'ç¢ç‰‡æœå°‹', \n        desc: 'Application é¢æ¿', \n        icon: 'storage', \n        color: 'purple', \n        fragment: 'Tools', \n        completed: false, \n        hint: 'å¯†ç¢¼ç¢ç‰‡åˆ†æ•£åœ¨ 4 å€‹å„²å­˜ä½ç½®ï¼šCookiesã€Local Storageã€Session Storageã€IndexedDBã€‚æ”¶é›† 4 å€‹æç¤ºä¸¦çµ„åˆæˆå®Œæ•´ç¢ç‰‡ï¼Œç„¶å¾Œå‘¼å« window.game.verifyLevel2(\"ç¢ç‰‡\") é©—è­‰',\n        knowledge: `\n            <h2 class=\"text-2xl font-bold text-purple-400 mb-4\">Application: Storage Strategies</h2>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µï¼šå®¢æˆ¶ç«¯å„²å­˜æ©Ÿåˆ¶</h3>\n                <p class=\"text-gray-400\">ç€è¦½å™¨æä¾›äº†å¤šç¨®å„²å­˜è³‡æ–™çš„æ–¹å¼ï¼Œæ¯ç¨®æ–¹å¼éƒ½æœ‰å…¶ç‰¹å®šçš„ç”¨é€”ã€å®¹é‡é™åˆ¶èˆ‡ç”Ÿå‘½é€±æœŸã€‚</p>\n            </div>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">âš–ï¸ åŒæ€§è³ªæ¯”è¼ƒï¼šå„²å­˜æ–¹æ¡ˆå·®ç•°</h3>\n                <ul class=\"list-disc list-inside text-gray-400 space-y-1\">\n                    <li><strong>Cookiesï¼š</strong>å®¹é‡æ¥µå° (4KB)ï¼Œæ¯æ¬¡ HTTP è«‹æ±‚éƒ½æœƒè‡ªå‹•å¤¾å¸¶ï¼Œä¸»è¦ç”¨æ–¼ä¼ºæœå™¨é©—è­‰èˆ‡ç‹€æ…‹ç¶­æŒã€‚</li>\n                    <li><strong>Local Storageï¼š</strong>å®¹é‡è¼ƒå¤§ (5-10MB)ï¼Œæ°¸ä¹…å„²å­˜ç›´åˆ°è¢«æ¸…é™¤ï¼Œç´”å®¢æˆ¶ç«¯å­˜å–ï¼Œé©åˆå„²å­˜ä½¿ç”¨è€…åå¥½è¨­å®šã€‚</li>\n                    <li><strong>Session Storageï¼š</strong>å®¹é‡åŒ Local Storageï¼Œä½†ç”Ÿå‘½é€±æœŸåƒ…é™æ–¼ã€Œç•¶å‰åˆ†é ã€ã€‚åˆ†é é—œé–‰å³æ¶ˆå¤±ï¼Œé©åˆæš«å­˜è¡¨å–®è³‡æ–™ã€‚</li>\n                    <li><strong>IndexedDBï¼š</strong>éåŒæ­¥ã€ç‰©ä»¶å°å‘çš„è³‡æ–™åº«ã€‚å®¹é‡å¤§ä¸”æ”¯æ´ç´¢å¼•èˆ‡äº¤æ˜“ (Transaction)ï¼Œé©åˆå„²å­˜é›¢ç·šæ‡‰ç”¨ (PWA) çš„å¤§é‡çµæ§‹åŒ–è³‡æ–™ã€‚</li>\n                </ul>\n            </div>\n        `\n    },\n    { \n        id: 3, \n        title: 'æ¸²æŸ“å£“åŠ›', \n        desc: 'Performance é¢æ¿', \n        icon: 'speed', \n        color: 'yellow', \n        fragment: '20', \n        completed: false,\n        hint: 'é–‹å•Ÿ Performance é¢æ¿éŒ„è£½ï¼Œæ‰¾å‡ºé•·æ¢çš„ç´…è‰² taskï¼Œå°‹æ‰¾ window.stopLag() å‡½å¼',\n        knowledge: `\n            <h2 class=\"text-2xl font-bold text-yellow-400 mb-4\">Performance: Runtime Metrics</h2>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µï¼šåŸ·è¡Œæˆæœ¬åˆ†æ (Flame Chart)</h3>\n                <p class=\"text-gray-400\">æ•ˆèƒ½é¢æ¿çš„ç«ç„°åœ–é€éé¡è‰²å€åˆ†ä¸åŒçš„ç€è¦½å™¨å·¥ä½œã€‚å„ªåŒ–çš„ç¬¬ä¸€æ­¥æ˜¯è­˜åˆ¥å“ªç¨®é¡è‰²çš„å·¥ä½œä½”ç”¨äº†ä¸»åŸ·è¡Œç·’ (Main Thread) çš„æ™‚é–“ã€‚</p>\n            </div>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">âš–ï¸ åŒæ€§è³ªæ¯”è¼ƒï¼šä»»å‹™é¡å‹ (é¡è‰²) å·®ç•°</h3>\n                <ul class=\"list-disc list-inside text-gray-400 space-y-1\">\n                    <li><strong><span class=\"text-yellow-400\">é»ƒè‰² (Scripting)</span>ï¼š</strong>JavaScript åŸ·è¡Œã€‚åŒ…å«äº‹ä»¶è™•ç†ã€API å‘¼å«ã€é‚è¼¯é‹ç®—ã€‚å„ªåŒ–æ–¹å‘ï¼šCode Splitting, Web Workers, æ¼”ç®—æ³•å„ªåŒ–ã€‚</li>\n                    <li><strong><span class=\"text-purple-400\">ç´«è‰² (Rendering)</span>ï¼š</strong>æ¨£å¼è¨ˆç®— (Recalculate Style) èˆ‡ä½ˆå±€ (Layout/Reflow)ã€‚å„ªåŒ–æ–¹å‘ï¼šæ¸›å°‘ DOM æ“ä½œ, é¿å… Layout Thrashingã€‚</li>\n                    <li><strong><span class=\"text-green-400\">ç¶ è‰² (Painting)</span>ï¼š</strong>ç¹ªè£½èˆ‡åˆæˆ (Paint & Composite)ã€‚å„ªåŒ–æ–¹å‘ï¼šä½¿ç”¨å·²æå‡çš„åœ–å±¤ (GPU åŠ é€Ÿ), æ¸›å°‘é‡ç¹ªå€åŸŸã€‚</li>\n                </ul>\n            </div>\n        `\n    },\n    { \n        id: 4, \n        title: 'ç¶²è·¯é›œè¨Š', \n        desc: 'Network é¢æ¿', \n        icon: 'wifi', \n        color: 'green', \n        fragment: '26', \n        completed: false, \n        hint: 'æ­¥é©Ÿï¼š1) Block é »ç¹çš„é›œè¨Šè«‹æ±‚ 2) æ‰¾åˆ°æˆåŠŸçš„ hint-override.jsonï¼ŒæŸ¥çœ‹ Response 3) ä½¿ç”¨ Local Overrides override /secret-data.json 4) é‡æ–°è¼‰å…¥é é¢ï¼Œéš±è—ç¢ç‰‡æœƒå‡ºç¾',\n        knowledge: `\n            <h2 class=\"text-2xl font-bold text-green-400 mb-4\">Network: Request Interception</h2>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µï¼šç¶²è·¯è¡Œç‚ºä¿®æ”¹</h3>\n                <p class=\"text-gray-400\">ä¸éœ€ç­‰å¾…å¾Œç«¯ API ä¿®æ”¹ï¼Œå‰ç«¯é–‹ç™¼è€…å¯ä»¥ç›´æ¥åœ¨ç€è¦½å™¨å±¤é¢ä»‹å…¥èˆ‡ä¿®æ”¹ç¶²è·¯è«‹æ±‚ï¼Œä»¥æ¨¡æ“¬å„ç¨®æƒ…å¢ƒã€‚</p>\n            </div>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">âš–ï¸ åŒæ€§è³ªæ¯”è¼ƒï¼šä»‹å…¥ç­–ç•¥å·®ç•°</h3>\n                <ul class=\"list-disc list-inside text-gray-400 space-y-1\">\n                    <li><strong>Block Request URL (é˜»æ“‹)ï¼š</strong>å®Œå…¨é˜»æ­¢è«‹æ±‚ç™¼é€ã€‚æ¨¡æ“¬è³‡æºéºå¤±ã€ä¼ºæœå™¨æ›æ‰æˆ–æ˜¯ç¬¬ä¸‰æ–¹è¿½è¹¤è…³æœ¬è¢«é˜»æ“‹çš„æƒ…å¢ƒã€‚(ç ´å£æ€§æ¸¬è©¦)</li>\n                    <li><strong>Network Throttling (ç¯€æµ)ï¼š</strong>é™åˆ¶é »å¯¬èˆ‡å»¶é²ã€‚æ¨¡æ“¬ 3G/4G æ…¢é€Ÿç¶²è·¯æˆ–é›¢ç·šç‹€æ…‹ï¼Œæ¸¬è©¦è¼‰å…¥é«”é©—èˆ‡ Timeout è™•ç†ã€‚(æ•ˆèƒ½æ¸¬è©¦)</li>\n                    <li><strong>Local Overrides (è¦†å¯«)ï¼š</strong>æ””æˆªè«‹æ±‚ä¸¦è¿”å›æœ¬åœ°å®šç¾©çš„å…§å®¹ã€‚æ¨¡æ“¬ API å›å‚³ç‰¹å®šè³‡æ–™ï¼ˆå¦‚éŒ¯èª¤è¨Šæ¯ã€ç‰¹å®šé‚Šç•Œå€¼ï¼‰ï¼Œå¾è€Œæ¸¬è©¦å‰ç«¯é‚è¼¯ã€‚(åŠŸèƒ½æ¸¬è©¦/Mocking)</li>\n                </ul>\n            </div>\n        `\n    },\n    { \n        id: 5, \n        title: 'é‚è¼¯åŠ«æŒ', \n        desc: 'Sources é¢æ¿', \n        icon: 'code', \n        color: 'red', \n        fragment: null, \n        completed: false, \n        hint: 'é€™ä¸€æ­¥æ²’æœ‰å¯†ç¢¼ç¢ç‰‡ï¼Œä½ çš„ä»»å‹™æ˜¯è®“ [ç·Šæ€¥è§£é™¤] æŒ‰éˆ•ç”Ÿæ•ˆã€‚é–‹å•Ÿ Sources é¢æ¿ï¼ŒDebug submitPassword å‡½å¼ã€‚',\n        knowledge: `\n            <h2 class=\"text-2xl font-bold text-red-500 mb-4\">Sources: Breakpoint Strategies</h2>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µï¼šä¸­æ–·é»é¡å‹</h3>\n                <p class=\"text-gray-400\">Debug ä¸åªæ˜¯åœ¨æŸä¸€è¡Œæš«åœã€‚å–„ç”¨ä¸åŒé¡å‹çš„æ–·é»ï¼Œå¯ä»¥ç²¾æº–æ•æ‰å•é¡Œç™¼ç”Ÿçš„ç¬é–“ï¼Œéæ¿¾ä¸å¿…è¦çš„é›œè¨Šã€‚</p>\n            </div>\n            \n            <div class=\"mb-4\">\n                <h3 class=\"text-lg font-semibold text-gray-200 mb-2\">âš–ï¸ åŒæ€§è³ªæ¯”è¼ƒï¼šæ–·é»è§¸ç™¼æ™‚æ©Ÿ</h3>\n                <ul class=\"list-disc list-inside text-gray-400 space-y-1\">\n                    <li><strong>Line Breakpoint (è¡Œæ–·é»)ï¼š</strong>æœ€åŸºç¤çš„æ–·é»ã€‚åŸ·è¡Œåˆ°è©²è¡Œç¨‹å¼ç¢¼æ™‚æš«åœã€‚</li>\n                    <li><strong>Conditional Breakpoint (æ¢ä»¶æ–·é»)ï¼š</strong>\"åªæœ‰ç•¶...\"æ‰æš«åœã€‚ä¾‹å¦‚ <code>id === 'bug'</code>ã€‚é©åˆåœ¨è¿´åœˆæˆ–é »ç¹è§¸ç™¼çš„äº‹ä»¶ä¸­éæ¿¾é›œè¨Šï¼Œå¤§å¹…ç¯€çœ Debug æ™‚é–“ã€‚</li>\n                    <li><strong>DOM Breakpointï¼š</strong>ç•¶ HTML å…ƒç´ è¢«ä¿®æ”¹ï¼ˆå±¬æ€§è®Šæ›´ã€å­ç¯€é»ç§»é™¤ï¼‰æ™‚æš«åœã€‚é©åˆå°‹æ‰¾ \"æ˜¯èª°å·å·æ”¹äº†æˆ‘çš„ä»‹é¢ï¼Ÿ\" çš„ UI Bugã€‚</li>\n                    <li><strong>XHR/Fetch Breakpointï¼š</strong>ç•¶ç‰¹å®š URL çš„ç¶²è·¯è«‹æ±‚ç™¼é€æ™‚æš«åœã€‚é©åˆè¿½è¹¤è«‹æ±‚ç™¼é€çš„èµ·é»èˆ‡å †ç–Šã€‚</li>\n                </ul>\n            </div>\n        `\n    }\n];\n\n// ==================== UI Rendering ====================\nfunction renderChallenges() {\n    const lists = $$('.challenge-list'); // Modified to return NodeList\n    if (!lists.length) return;\n    \n    // Create HTML logic once\n    const htmlContent = challenges.map(c => `\n        <div class=\"challenge-item p-3 rounded border-l-2 font-mono text-xs text-gray-300 hover:bg-${c.color}-900/10 transition-all duration-300 flex justify-between items-center group ${c.completed ? `bg-green-900/20 border-green-500 opacity-80` : `bg-[#1f242d] border-${c.color}-500`}\" data-id=\"${c.id}\">\n            <div class=\"flex-grow\">\n                <div class=\"flex items-center gap-2 mb-1 text-gray-500 text-[10px]\">\n                    <span class=\"material-icons text-[10px] ${c.completed ? 'text-green-500' : ''}\">${c.icon}</span> \n                    LEVEL ${c.id}\n                </div>\n                <div class=\"font-bold text-${c.color}-300\">${c.title}</div>\n                <div class=\"text-[10px] opacity-70\">${c.desc}</div>\n                ${c.completed && c.fragment ? `<div class=\"mt-1 text-green-400 font-bold bg-black/30 inline-block px-1 rounded\">ç¢ç‰‡: ${c.fragment}</div>` : ''}\n            </div>\n            \n            <div class=\"flex gap-1 opacity-100 group-hover:opacity-100 transition-opacity\">\n                 <button onclick=\"showHint(${c.id})\" class=\"p-1.5 hover:bg-white/10 rounded text-yellow-500\" title=\"æç¤º\">\n                    <span class=\"material-icons text-sm\">lightbulb</span>\n                 </button>\n                 <button onclick=\"openKnowledge(${c.id})\" class=\"p-1.5 hover:bg-white/10 rounded text-blue-400\" title=\"çŸ¥è­˜é»\">\n                    <span class=\"material-icons text-sm\">menu_book</span>\n                 </button>\n                 <div class=\"w-6 flex items-center justify-center\">\n                    ${c.completed ? '<span class=\"material-icons text-green-500 text-sm animate-bounce\">check_circle</span>' : ''}\n                 </div>\n            </div>\n        </div>\n    `).join('');\n\n    // Apply to ALL lists (Mobile and Desktop)\n    lists.forEach(list => {\n        list.innerHTML = htmlContent;\n    });\n}\n\nfunction markChallengeComplete(id) {\n    const challenge = challenges.find(c => c.id === id);\n    if (challenge && !challenge.completed) {\n        challenge.completed = true;\n        renderChallenges();\n        checkNarrativeTrigger(id);\n        syncNavigation();\n        if (id === 1) {\n            updateTimerDisplay();\n        } else if (id === 2) {\n            scheduleLagSequence();\n        } else if (id === 3) {\n            startNetworkChaos();\n        }\n        \n        if (challenge.fragment) {\n             showMessage('success', `å–å¾—å¯†ç¢¼ç¢ç‰‡: [ ${challenge.fragment} ]`);\n        }\n    }\n}\n\n// ==================== Modal Logic ====================\nwindow.openKnowledge = function(id) {\n    const challenge = challenges.find(c => c.id === id);\n    if (!challenge) return;\n    \n    const modal = $('#knowledge-modal');\n    const content = $('#modal-content');\n    content.innerHTML = challenge.knowledge;\n    modal.classList.remove('hidden', 'pointer-events-none');\n    setTimeout(() => modal.classList.remove('opacity-0'), 10);\n    modal.querySelector('div').classList.remove('scale-95');\n    modal.querySelector('div').classList.add('scale-100');\n}\n\nwindow.closeModal = function() {\n    const modal = $('#knowledge-modal');\n    modal.classList.add('opacity-0');\n    modal.querySelector('div').classList.add('scale-95');\n    modal.querySelector('div').classList.remove('scale-100');\n    setTimeout(() => modal.classList.add('hidden', 'pointer-events-none'), 300);\n}\n\n// === Close Modal on Background Click ===\nwindow.closeModalOnBackdrop = function(event) {\n    if (event.target.id === 'knowledge-modal') {\n        closeModal();\n    }\n}\n\nwindow.showHint = function(id) {\n    const challenge = challenges.find(c => c.id === id);\n    if (challenge) showMessage('info', `æç¤º: ${challenge.hint}`);\n}\n\n// ==================== Level Logic ====================\n\nfunction formatTime(totalSeconds) {\n    const safeSeconds = Math.max(0, Math.floor(totalSeconds || 0));\n    const hours = String(Math.floor(safeSeconds / 3600)).padStart(2, '0');\n    const minutes = String(Math.floor((safeSeconds % 3600) / 60)).padStart(2, '0');\n    const seconds = String(safeSeconds % 60).padStart(2, '0');\n    return `${hours}:${minutes}:${seconds}`;\n}\n\nfunction generateFakeTime() {\n    const glitchTokens = ['##', '??', '--', '88', '!!', '%%'];\n    const segment = () => {\n        if (Math.random() > 0.6) {\n            return glitchTokens[Math.floor(Math.random() * glitchTokens.length)];\n        }\n        return String(Math.floor(Math.random() * 90)).padStart(2, '0');\n    };\n    return `${segment()}:${segment()}:${segment()}`;\n}\n\nfunction updateTimerDisplay(overrideText) {\n    const timerEl = $('#timer');\n    if (!timerEl) return;\n\n    let displayText = overrideText;\n    if (!displayText) {\n        const levelOne = challenges.find(c => c.id === 1);\n        if (levelOne && levelOne.completed) {\n            displayText = formatTime(window.game._internalTimer);\n        } else {\n            displayText = generateFakeTime();\n        }\n    }\n\n    timerEl.textContent = displayText;\n    timerEl.dataset.text = displayText;\n}\n\n// å…ˆåˆå§‹åŒ– window.game ç‰©ä»¶\nwindow.game = { timeLeft: 1200, _internalTimer: 1200 };\n\n// --- Manual Fragment Verification (Level 2 & 4) ---\nwindow.game.foundFragment = function(levelId, password) {\n    const challenge = challenges.find(c => c.id === levelId);\n    \n    if (!challenge) {\n        console.log('%câŒ éŒ¯èª¤: ç„¡æ•ˆçš„é—œå¡ ID', 'color: #ef4444; font-size: 14px; font-weight: bold;');\n        return;\n    }\n    \n    if (challenge.completed) {\n        console.log(`%câœ… é—œå¡ ${levelId} å·²ç¶“å®Œæˆäº†ï¼`, 'color: #10b981; font-size: 14px;');\n        return;\n    }\n    \n    // é©—è­‰å¯†ç¢¼\n    if (password !== challenge.fragment) {\n        console.log('%câŒ å¯†ç¢¼éŒ¯èª¤ï¼', 'color: #ef4444; font-size: 16px; font-weight: bold;');\n        console.log(`%cæç¤º: ä»”ç´°æª¢æŸ¥ ${challenge.desc} ä¸­çš„è³‡æ–™...`, 'color: #f59e0b; font-size: 14px;');\n        return;\n    }\n    \n    // å¯†ç¢¼æ­£ç¢º\n    console.log('%cğŸ‰ ç­”å°äº†ï¼', 'color: #10b981; font-size: 18px; font-weight: bold;');\n    console.log(`%cç¢ç‰‡å·²è¨˜éŒ„: ${password}`, 'color: #3b82f6; font-size: 14px; background: #1f2937; padding: 4px 8px; border-radius: 4px;');\n    markChallengeComplete(levelId);\n}\n\n// --- Level 1: Console ---\nlet observation = { count: 0, lastTime: 0, isConfirmed: false };\nObject.defineProperty(window.game, 'timer', {\n    get: function() {\n        const now = Date.now();\n        if (now - observation.lastTime < 500) observation.count++;\n        else observation.count = 1;\n        observation.lastTime = now;\n\n        if (observation.count >= 5 && !observation.isConfirmed) {\n            observation.isConfirmed = true;\n            console.log('%c ğŸ‰ åµæ¸¬æˆåŠŸï¼å–å¾—ç¢ç‰‡: Dev', 'color: #00ff00; font-size: 16px;');\n            markChallengeComplete(1);\n        }\n        return this._internalTimer;\n    }\n});\nsetInterval(() => {\n    if (window.game._internalTimer > 0) window.game._internalTimer--;\n    updateTimerDisplay();\n}, 1000);\n\n// --- Level 3: Performance ---\nconst perfIndicator = $('#performance-indicator');\nconst fuseSparkEl = document.getElementById('fuse-spark'); // æ–°å¢ï¼šå¼•ä¿¡ç«èŠ±å…ƒç´ \nlet lagSequenceScheduled = false;\n\n// åˆå§‹åŒ–ï¼šç§»é™¤ CSS å‹•ç•«ï¼Œæ”¹ç”¨ JS é©…å‹•ä»¥ç¢ºä¿å¡é “æ•ˆæœ\nlet animFrameId;\nif (perfIndicator) {\n    perfIndicator.style.opacity = '0.8'; \n    perfIndicator.classList.remove('pointer-events-none');\n    \n    // JS Driven Animation State (Time Based to match CSS ease-in-out)\n    const startTime = Date.now();\n    const duration = 3000; // 3s per direction\n    \n    function animateIndicator() {\n        const now = Date.now();\n        const elapsed = now - startTime;\n        const cycleTime = elapsed % (duration * 2); // 6s cycle\n        \n        let progress; // 0 to 1\n        let isForward = cycleTime < duration;\n        \n        if (isForward) {\n            // Forward (0 -> 1)\n            progress = cycleTime / duration;\n        } else {\n            // Backward (1 -> 0)\n            progress = 1 - ((cycleTime - duration) / duration);\n        }\n        \n        // Easing: Ease-in-out approximation using Cosine\n        // 0.5 * (1 - cos(p * PI)) maps 0->0, 0.5->0.5, 1->1 with smooth curve\n        const easedProgress = 0.5 * (1 - Math.cos(progress * Math.PI));\n        \n        // Interpolate values\n        // Range: -180px to 180px\n        const translateX = -180 + (360 * easedProgress);\n        // Range: 0deg to 360deg\n        const rotation = 360 * easedProgress;\n\n        // Apply styles directly\n        // Inner Element: Spin & Translate\n        // Note: CSS uses transform to center (-50%, -50%). We must keep that.\n        perfIndicator.style.transform = `translate(-50%, -50%) translateX(${translateX}px) rotate(${rotation}deg)`;\n        perfIndicator.style.animation = 'none'; // Ensure CSS is off\n\n        animFrameId = requestAnimationFrame(animateIndicator);\n    }\n    \n    // Start animation loop\n    animFrameId = requestAnimationFrame(animateIndicator);\n}\n\nfunction scheduleLagSequence() {\n    if (lagSequenceScheduled) return;\n    lagSequenceScheduled = true;\n    setTimeout(() => {\n        if (typeof window.startLag === 'function') {\n            window.startLag();\n        }\n    }, 800);\n}\n\nwindow.startLag = function() {\n    // === èˆŠçš„æ—‹è½‰åœ“åœˆæ•ˆæœï¼ˆç¾åœ¨ä½œç‚ºæ•ˆèƒ½æŒ‡æ¨™ï¼‰ ===\n    // ä¿æŒé¡¯ç¤ºï¼Œå› ç‚ºå®ƒç¾åœ¨æ˜¯æˆ‘å€‘ observation çš„é‡é»\n    \n    // === æ–°çš„å¼•ä¿¡ç«èŠ±å¡é “æ•ˆæœ ===\n    if (fuseSparkEl) {\n        fuseSparkEl.classList.add('lag-active');\n    }\n    \n    // æ­å–œä½ æ‰¾åˆ°å•é¡Œäº†ï¼è«‹åœ¨ console åŸ·è¡Œ window.stopLag() ä¾†åœæ­¢\n    // å¢åŠ è¨ˆç®—é‡ä»¥ç¢ºä¿ä¸»åŸ·è¡Œç·’å¡é “ï¼Œå°è‡´æ—‹è½‰å‹•ç•«æ‰å¹€\n    window.lagInterval = setInterval(() => {\n        const start = Date.now();\n        // å¢åŠ é˜»å¡æ™‚é–“åˆ° 180ms (è¶…é 16.7ms å°±æœƒæ‰å¹€, 180ms æœƒéå¸¸æ˜é¡¯)\n        while (Date.now() - start < 180) { \n            Math.sqrt(Math.random()); \n        }\n    }, 200); // æ¯ 200ms åŸ·è¡Œä¸€æ¬¡ï¼Œå¹¾ä¹ä½”æ»¿æ™‚é–“\n}\n\nwindow.stopLag = function() {\n    clearInterval(window.lagInterval);\n    \n    // === ç§»é™¤å¡é “æ•ˆæœï¼Œé¡¯ç¤ºä¿®å¾©ç‹€æ…‹ ===\n    if (fuseSparkEl) {\n        fuseSparkEl.classList.remove('lag-active');\n        fuseSparkEl.classList.add('fixed-state'); // ç¶ è‰²æ¿¾é¡\n    }\n    \n    // æŒ‡ç¤ºå™¨è®Šç‚ºç¶ è‰²ï¼Œè¡¨ç¤ºæ•ˆèƒ½å„ªåŒ–å®Œæˆ\n    if (perfIndicator) {\n        perfIndicator.style.borderColor = '#10b981'; // green-500\n        perfIndicator.style.boxShadow = '0 0 15px #10b981';\n    }\n    \n    console.log('âœ… æ•ˆèƒ½å„ªåŒ–å®Œæˆï¼å–å¾—ç¢ç‰‡: 20'); \n    markChallengeComplete(3);\n}\n\n// --- Level 2 (App) & 4 (Network) ---\n// åˆå§‹åŒ– IndexedDB\nasync function initIndexedDB() {\n    return new Promise((resolve, reject) => {\n        const request = indexedDB.open('DevToolsDB', 1);\n        \n        request.onerror = () => reject(request.error);\n        \n        request.onsuccess = () => {\n            const db = request.result;\n            const transaction = db.transaction(['hints'], 'readwrite');\n            const store = transaction.objectStore('hints');\n            store.put({ id: 'hint_4', value: 'ls' });\n            \n            transaction.oncomplete = () => {\n                db.close();\n                resolve();\n            };\n        };\n        \n        request.onupgradeneeded = (event) => {\n            const db = event.target.result;\n            if (!db.objectStoreNames.contains('hints')) {\n                db.createObjectStore('hints', { keyPath: 'id' });\n            }\n        };\n    });\n}\n\nfunction initStorage() {\n    // Cookies - æç¤º 1\n    document.cookie = `hint_1=T; path=/`; \n    // Local Storage - æç¤º 2\n    localStorage.setItem('hint_2', 'o'); \n    // Session Storage - æç¤º 3\n    sessionStorage.setItem('hint_3', 'o');\n    // IndexedDB - æç¤º 4 (ç•°æ­¥åˆå§‹åŒ–)\n    initIndexedDB().catch(err => console.error('IndexedDB init failed:', err));\n}\n\n// é—œå¡äºŒé©—è­‰å‡½å¼\nwindow.game.verifyLevel2 = function(answer) {\n    const correctAnswer = 'Tools';\n    \n    if (challenges[1].completed) {\n        console.log('%câœ… é—œå¡äºŒå·²ç¶“å®Œæˆäº†ï¼', 'color: #10b981; font-size: 14px;');\n        return;\n    }\n    \n    if (answer !== correctAnswer) {\n        console.log('%câŒ ç­”æ¡ˆéŒ¯èª¤ï¼', 'color: #ef4444; font-size: 16px; font-weight: bold;');\n        console.log('%cè«‹ç¢ºèªä½ å·²ç¶“æ‰¾åˆ°æ‰€æœ‰ 4 å€‹å„²å­˜ä½ç½®çš„æç¤º...', 'color: #f59e0b; font-size: 13px;');\n        return;\n    }\n    \n    console.log('%cğŸ‰ ç­”å°äº†ï¼', 'color: #10b981; font-size: 18px; font-weight: bold;');\n    console.log('%cç¢ç‰‡å·²è¨˜éŒ„: Tools', 'color: #3b82f6; font-size: 14px; background: #1f2937; padding: 4px 8px; border-radius: 4px;');\n    markChallengeComplete(2);\n};\n\nlet noiseInterval;\nlet hintOverrideTimeout;\nlet secretDataInterval;\nlet networkChaosStarted = false;\n// Keep this on window so bundlers don't tree-shake it; also easy to flip in DevTools\nwindow.isSystemIntegrityCheckPassed = window.isSystemIntegrityCheckPassed || false;\n\nfunction startNetworkChaos() {\n    if (networkChaosStarted) return;\n    networkChaosStarted = true;\n\n    noiseInterval = setInterval(() => {\n        fetch(toAssetUrl('noise-signal-404.json'))\n            .then(() => {\n                // è«‹æ±‚æˆåŠŸç™¼å‡ºï¼ŒæŒçºŒè£½é€ å™ªéŸ³\n            })\n            .catch(() => {\n                // åªæœ‰è¢« DevTools Block æ™‚æ‰æœƒé€²å…¥é€™è£¡\n                console.log('%cğŸ‰ é›œè¨Šå·²æ¶ˆé™¤ï¼(åµæ¸¬åˆ° Network Block)', 'color: #10b981; font-size: 14px; font-weight: bold;');\n                clearInterval(noiseInterval);\n                \n                // åœ¨æˆåŠŸ Block å¾Œæ‰ç™¼é€ Hint\n                console.log('%cğŸ’¡ é›œè¨Šæ¶ˆé™¤ï¼Œé—œéµè¨Šè™Ÿæµ®ç¾...', 'color: #fbbf24; font-size: 14px;');\n                 setTimeout(() => {\n                    fetch(toAssetUrl('hint-override.json')).then(r => r.json()).then(() => {\n                        // è®“ä½¿ç”¨è€…è‡ªè¡Œåœ¨ Network é¢æ¿ç™¼ç¾\n                    }).catch(() => {});\n                }, 1000);\n            });\n    }, 300);\n\n    // hintOverrideTimeout å·²æ•´åˆè‡³ä¸Šæ–¹ catch å€å¡Š\n\n    secretDataInterval = setInterval(async () => {\n        try {\n            const res = await fetch(toAssetUrl('secret-data.json'));\n            if (res.ok) {\n                const data = await res.json();\n                \n                // æª¢æŸ¥æ˜¯å¦æˆåŠŸè§£é– (status === 'unlocked')\n                if (data.status === 'unlocked' && data.SECRET_CODE_FRAGMENT) {\n                    const hiddenFragment = document.getElementById('hidden-fragment');\n                    if (hiddenFragment && hiddenFragment.classList.contains('hidden')) {\n                        hiddenFragment.classList.remove('hidden');\n                        console.log('%cğŸ‰ API Override æˆåŠŸï¼', 'color: #10b981; font-size: 16px; font-weight: bold;');\n                        console.log('%céš±è—çš„ç¢ç‰‡å·²ç¶“å‡ºç¾åœ¨é é¢ä¸Šäº†ï¼', 'color: #60a5fa; font-size: 14px;');\n                        \n                        // é¡¯ç¤ºæç¤ºå¡ç‰‡\n                        showMessage('success', `æˆåŠŸè§£é™¤é–å®šï¼å–å¾—å¯†ç¢¼ç¢ç‰‡: [ ${data.SECRET_CODE_FRAGMENT} ]`);\n                        \n                        // æ¨™è¨˜é—œå¡å®Œæˆ (å¦‚æœé‚„æ²’å®Œæˆ)\n                        // é€™è£¡å‡è¨­é€™å±¬æ–¼ Level 4 (Network) çš„ä¸€éƒ¨åˆ†æˆ–æ˜¯éš±è—ä»»å‹™\n                        // å¦‚æœæœ‰å°æ‡‰çš„ challenge IDï¼Œå¯ä»¥å‘¼å« markChallengeComplete\n                        \n                        clearInterval(secretDataInterval);\n                    }\n                }\n            }\n        } catch (e) {\n            // å¤±æ•—æˆ–å…¶ä»–éŒ¯èª¤ï¼Œç¹¼çºŒç­‰å¾…\n        }\n    }, 5000);\n}\n\n\n// --- Level 5 & Submission ---\nwindow.submitPassword = function() {\n    const input = $('#password-input');\n    const val = input.value.trim();\n    const correctPass = \"DevTools2026\";\n    \n    // æ¨™è¨˜ç”¨æˆ¶å·²å˜—è©¦è¼¸å…¥å¯†ç¢¼ï¼ˆç„¡è«–å°éŒ¯ï¼‰\n    if (currentStoryIndex === 10) {\n        story10PasswordAttempted = true;\n        if (furthestStoryIndex < 11) {\n            furthestStoryIndex = 11;\n            syncNavigation();\n        }\n    }\n    \n    if (val !== correctPass) {\n         showMessage('error', 'å¯†ç¢¼éŒ¯èª¤ï¼è«‹æª¢æŸ¥å„é—œå¡æ”¶é›†åˆ°çš„ç¢ç‰‡ (Dev...Tools...20...26)');\n         input.classList.add('animate-shake');\n         setTimeout(() => input.classList.remove('animate-shake'), 500);\n         return;\n    }\n\n    // âš ï¸ BUG: ç³»çµ±é©—è­‰é‚è¼¯éŒ¯èª¤ï¼\n    // ğŸ’¡ æç¤º: å°‡ä¸‹æ–¹çš„ false æ”¹æˆ true å³å¯è§£é–ç³»çµ±\n    if (window.isSystemIntegrityCheckPassed) {\n        markChallengeComplete(5);\n        showMessage('success', 'ğŸ‰ ç³»çµ±è§£é–æˆåŠŸï¼ç‚¸å½ˆå·²æ‹†é™¤ï¼');\n        const timerEl = $('#timer');\n        if (timerEl) timerEl.classList.add('text-green-500');\n        updateTimerDisplay('DEFUSED');\n        input.disabled = true;\n        input.classList.add('text-green-500', 'border-green-500');\n        $('#defuse-btn').classList.add('bg-green-500', 'hover:bg-green-600');\n        // è§£é–æœ€çµ‚å‹åˆ©å°è©±ï¼ˆStory ID 12ï¼‰ï¼Œè®“ç©å®¶è‡ªè¡Œé»æ“Šä¸‹ä¸€æ­¥\n        const finalStoryIndex = 12;\n        furthestStoryIndex = Math.max(furthestStoryIndex, finalStoryIndex);\n        syncNavigation();\n    } else {\n        // æ¨é€²åˆ°é—œå¡äº”æç¤ºå°è©±ï¼ˆStory ID 11ï¼‰\n        // å¦‚æœç•¶å‰æ˜¯åœ¨ã€Œè¼¸å…¥å¯†ç¢¼è©¦è©¦çœ‹ã€(ID 10)\n        if (currentStoryIndex === 10) {\n            // æ¨™è¨˜ç”¨æˆ¶å·²å˜—è©¦è¼¸å…¥å¯†ç¢¼\n            story10PasswordAttempted = true;\n            \n            // ä¸è‡ªå‹•æ¨é€²ï¼Œè€Œæ˜¯è§£é–ä¸‹ä¸€æ­¥ç®­é ­\n            if (furthestStoryIndex < 11) {\n                furthestStoryIndex = 11;\n                syncNavigation();\n                showMessage('error', 'âŒ é©—è­‰å¤±æ•—... ä½†ä¼¼ä¹è§¸ç™¼äº†ä»€éº¼ï¼Ÿ(é»æ“Šå³ä¸‹è§’ç®­é ­ç¹¼çºŒ)');\n            } else {\n                showMessage('error', 'âŒ é©—è­‰å¤±æ•—... (è«‹é»æ“Šå³ä¸‹è§’ç®­é ­ç¹¼çºŒ)');\n            }\n        } else if (currentStoryIndex === 11) {\n            // å¦‚æœå·²ç¶“åœ¨ ID 11ï¼Œåªé¡¯ç¤ºç°¡å–®éŒ¯èª¤ï¼Œä¸å†é‡è¤‡æ´—ç‰ˆ Console\n             showMessage('error', 'âŒ éŒ¯èª¤ï¼šç³»çµ±é‚è¼¯è¼ƒé©—å¤±æ•—ï¼');\n             // é€™è£¡ä¸éœ€ console.errorï¼Œå› ç‚º logSceneHints å·²ç¶“è™•ç†äº†\n        }\n    }\n}\n\n// ==================== Keyboard Shortcuts ====================\n// å³æ–¹å‘éµè§¸ç™¼é§­å®¢å°è©±ä¸‹ä¸€æ­¥\ndocument.addEventListener('keydown', function(e) {\n    const target = e.target;\n    const isEditable = target && (target.isContentEditable || target.tagName === 'INPUT' || target.tagName === 'TEXTAREA');\n    if (isEditable) return;\n\n    // ESC éµé—œé–‰ modal\n    if (e.key === 'Escape') {\n        const modal = $('#knowledge-modal');\n        if (modal && !modal.classList.contains('hidden')) {\n            e.preventDefault();\n            closeModal();\n            return;\n        }\n    }\n    \n    if (e.key === 'ArrowRight') {\n        if (canAdvanceFromCurrent()) {\n            e.preventDefault();\n            advanceNarrative();\n        }\n    } else if (e.code === 'Space') {\n        e.preventDefault();\n        playSceneAudio(story[currentStoryIndex]);\n    } else if (e.key === 'ArrowLeft') {\n        if (currentStoryIndex > 0) {\n            e.preventDefault();\n            window.retreatNarrative();\n        }\n    }\n});\n\n// Init\nwindow.addEventListener('DOMContentLoaded', () => {\n    renderChallenges();\n    initStorage();\n    handleSceneEntry(story[0]);\n    updateTimerDisplay();\n    \n    $('#password-input').addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') window.submitPassword();\n    });\n});\n"],"names":[],"mappings":"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"}